{"ast":null,"code":"// index.ts\nimport * as polyclip from \"polyclip-ts\";\nimport { polygon, multiPolygon } from \"@turf/helpers\";\nimport { geomEach } from \"@turf/meta\";\nfunction difference2(features) {\n  const geoms = [];\n  geomEach(features, geom => {\n    geoms.push(geom.coordinates);\n  });\n  if (geoms.length < 2) {\n    throw new Error(\"Must have at least two features\");\n  }\n  const properties = features.features[0].properties || {};\n  const differenced = polyclip.difference(geoms[0], ...geoms.slice(1));\n  if (differenced.length === 0) return null;\n  if (differenced.length === 1) return polygon(differenced[0], properties);\n  return multiPolygon(differenced, properties);\n}\nvar turf_difference_default = difference2;\nexport { turf_difference_default as default, difference2 as difference };","map":{"version":3,"names":["polyclip","polygon","multiPolygon","geomEach","difference2","features","geoms","geom","push","coordinates","length","Error","properties","differenced","difference","slice","turf_difference_default"],"sources":["/Users/yairtitelboim/Documents/Kernel/ALLAPPS/LOGhub/loghub/county-map-app/node_modules/@turf/difference/index.ts"],"sourcesContent":["import { Polygon, MultiPolygon, Feature, FeatureCollection } from \"geojson\";\nimport * as polyclip from \"polyclip-ts\";\nimport { polygon, multiPolygon } from \"@turf/helpers\";\nimport { geomEach } from \"@turf/meta\";\n\n/**\n * Finds the difference between multiple {@link Polygon|polygons} by clipping the subsequent polygon from the first.\n *\n * @function\n * @param {FeatureCollection<Polygon|MultiPolygon>} features input Polygon features\n * @returns {Feature<Polygon|MultiPolygon>|null} a Polygon or MultiPolygon feature showing the area of `polygon1` excluding the area of `polygon2` (if empty returns `null`)\n * @example\n * var polygon1 = turf.polygon([[\n *   [128, -26],\n *   [141, -26],\n *   [141, -21],\n *   [128, -21],\n *   [128, -26]\n * ]], {\n *   \"fill\": \"#F00\",\n *   \"fill-opacity\": 0.1\n * });\n * var polygon2 = turf.polygon([[\n *   [126, -28],\n *   [140, -28],\n *   [140, -20],\n *   [126, -20],\n *   [126, -28]\n * ]], {\n *   \"fill\": \"#00F\",\n *   \"fill-opacity\": 0.1\n * });\n *\n * var difference = turf.difference(turf.featureCollection([polygon1, polygon2]));\n *\n * //addToMap\n * var addToMap = [polygon1, polygon2, difference];\n */\nfunction difference(\n  features: FeatureCollection<Polygon | MultiPolygon>\n): Feature<Polygon | MultiPolygon> | null {\n  const geoms: Array<polyclip.Geom> = [];\n\n  geomEach(features, (geom) => {\n    geoms.push(geom.coordinates as polyclip.Geom);\n  });\n\n  if (geoms.length < 2) {\n    throw new Error(\"Must have at least two features\");\n  }\n\n  const properties = features.features[0].properties || {};\n\n  const differenced = polyclip.difference(geoms[0], ...geoms.slice(1));\n  if (differenced.length === 0) return null;\n  if (differenced.length === 1) return polygon(differenced[0], properties);\n  return multiPolygon(differenced, properties);\n}\n\nexport { difference };\nexport default difference;\n"],"mappings":";AACA,YAAYA,QAAA,MAAc;AAC1B,SAASC,OAAA,EAASC,YAAA,QAAoB;AACtC,SAASC,QAAA,QAAgB;AAmCzB,SAASC,YACPC,QAAA,EACwC;EACxC,MAAMC,KAAA,GAA8B,EAAC;EAErCH,QAAA,CAASE,QAAA,EAAWE,IAAA,IAAS;IAC3BD,KAAA,CAAME,IAAA,CAAKD,IAAA,CAAKE,WAA4B;EAC9C,CAAC;EAED,IAAIH,KAAA,CAAMI,MAAA,GAAS,GAAG;IACpB,MAAM,IAAIC,KAAA,CAAM,iCAAiC;EACnD;EAEA,MAAMC,UAAA,GAAaP,QAAA,CAASA,QAAA,CAAS,CAAC,EAAEO,UAAA,IAAc,CAAC;EAEvD,MAAMC,WAAA,GAAuBb,QAAA,CAAAc,UAAA,CAAWR,KAAA,CAAM,CAAC,GAAG,GAAGA,KAAA,CAAMS,KAAA,CAAM,CAAC,CAAC;EACnE,IAAIF,WAAA,CAAYH,MAAA,KAAW,GAAG,OAAO;EACrC,IAAIG,WAAA,CAAYH,MAAA,KAAW,GAAG,OAAOT,OAAA,CAAQY,WAAA,CAAY,CAAC,GAAGD,UAAU;EACvE,OAAOV,YAAA,CAAaW,WAAA,EAAaD,UAAU;AAC7C;AAGA,IAAOI,uBAAA,GAAQZ,WAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}